"0","# Extract variable importance from random forest regression model"
"0","rf.var.imp <- varImp(models.for.ensemble.OG$ranger)[[1]] %>%"
"0","  rownames_to_column(var=""Term"") %>%"
"0","  dplyr::rename(""Importance""=""Overall"") %>%"
"0","  mutate(Model=""Random Forest"")"
"0",""
"0","# Extract variable importance from elastic net regression model"
"0","glmnet.var.imp <- varImp(models.for.ensemble.OG$glmnet)[[1]] %>%"
"0","  rownames_to_column(var=""Term"") %>%"
"0","  dplyr::rename(""Importance""=""Overall"") %>%"
"0","  mutate(Model=""Elastic Net"")"
"0",""
"0","# Extract variable coefficients from optimal elastic net regression model"
"0","glmnet.var.coef <- as.data.frame(as.matrix(coef(models.for.ensemble.OG$glmnet$finalModel, models.for.ensemble.OG$glmnet$bestTune$lambda))) %>%"
"0","  rownames_to_column(var=""Term"") %>% dplyr::rename(""Coefficient""=""1"") %>%"
"0","  mutate(Model=""Elastic Net"")"
"0",""
"0","# Combine importance + coefficients for elastic net regression dataframe"
"0","glmnet.var <- left_join(glmnet.var.imp, glmnet.var.coef)"
"2","Joining, by = c(""Term"", ""Model"")
"
"0","# Extract variable importance from neural network regression model"
"0","nnet.var.imp <- varImp(models.for.ensemble.OG$nnet)[[1]] %>%"
"0","  rownames_to_column(var=""Term"") %>%"
"0","  dplyr::rename(""Importance""=""Overall"") %>%"
"0","  mutate(Model=""Neural Network"")"
"0",""
"0","# Concatenate these four dataframes into one dataframe"
"0","og.importance <- do.call(plyr::rbind.fill, list(rf.var.imp, glmnet.var, nnet.var.imp))"
"0","datatable(og.importance)"
