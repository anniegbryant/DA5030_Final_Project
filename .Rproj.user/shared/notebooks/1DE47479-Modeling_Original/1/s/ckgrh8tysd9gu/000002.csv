"0","# Compile RMSE and R2 results comparing real vs. predicted values for ensembles and component models"
"0","overall.ensemble.results <- do.call(plyr::rbind.fill, list(rmse.train, rmse.test, r2.train, r2.test)) %>%"
"0","  # Reshape to facet on metric -- i.e. RMSE or R2"
"0","  pivot_longer(cols=c(-Metric), names_to=""Model"", values_to=""Value"") %>%"
"0","  separate(Metric, into=c(""Data"", ""Metric""), sep=""_"")"
"0",""
"0","p.ensemble.r2.rmse <- overall.ensemble.results %>%"
"0","  mutate(Metric = ifelse(Metric==""RMSE"", ""Real vs. Predicted CDR-SoB RMSE"", ""Real vs. Predicted CDR-SoB R2"")) %>%"
"0","  mutate(Data=factor(Data, levels=c(""Train"", ""Test"")),"
"0","         Model=factor(Model, levels=c(""ensemble.glmnet"", ""ensemble.glm"", ""ensemble.rf"", ""elastic.net"", ""knn"", ""neural.net"", ""random.forest""))) %>%"
"0","  ggplot(data=., mapping=aes(x=Data, y=Value, color=Model, group=Model)) +"
"0","  geom_point() +"
"0","  geom_line() +"
"0","  theme_minimal() +"
"0","  facet_wrap(Metric~., scales=""free"", nrow=1) +"
"0","  theme(strip.text=element_text(size=12, face=""bold""),"
"0","        axis.title=element_blank())"
"0",""
"0","# Convert to interactive plotly plot, rename x/y axis titles"
"0","ggplotly(p.ensemble.r2.rmse) %>% "
"0","  layout(yaxis = list(title = ""R2"", "
"0","                      titlefont = list(size = 12)),"
"0","         xaxis = list(title = ""Data Subset"", "
"0","                      titlefont = list(size = 12)),"
"0","         yaxis2 = list(title = ""RMSE"", "
"0","                       titlefont = list(size = 12)),"
"0","         xaxis2 = list(title = ""Data Subset"", "
"0","                       titlefont = list(size = 12)),"
"0","         autosize = F, width = 900, height = 400)"
